(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);n("L1EO");var a=n("czhI"),s=n.n(a);s.a.defaults.baseURL="https://api.themoviedb.org";const i="684a168c8e7f797395d8a1d5291bcabb",o=e=>s.a.get(`https://api.themoviedb.org/3/movie/${e}?api_key=${i}`).then(e=>(e.data.poster_path="https://image.tmdb.org/t/p/w500"+e.data.poster_path,e.data.backdrop_path="https://image.tmdb.org/t/p/w500"+e.data.backdrop_path,e.data));var r=e=>{const t=e;document.querySelector(".searchWebsite").style.display="none";let n=localStorage.getItem("watched");(n=n?JSON.parse(n):[])||(localStorage.setItem("watched",[]),n=[]);let a=n.some(e=>e.id===t.id);document.querySelector(".js-main").innerHTML=(()=>{const{poster_path:t,title:n,vote_average:a,vote_count:o,popularity:r,original_title:c,overview:l,genres:d,id:p}=e;return(e=>s.a.get(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=${i}`).then(e=>e.data.results[0].key))(p).then(e=>{document.querySelector(".js-main").insertAdjacentHTML("afterbegin",`\n            <iframe style="margin-bottom:50px" width="100%" height="450" src="https://www.youtube.com/embed/${e}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>\n        `)}),`\n    <div class="container">\n\n    <section class="section" data-id="{id}">\n\n      <div class="poster-wrapper">\n        <img class="film-poster" src="${t}" alt="poster image" />\n      </div>\n      <div class="description-wrapper">\n      <h2 class="film-title">${n}</h2>\n      <div class="vote-wrapper">\n        <span class="titles vote-titles">vote / votes: </span>\n        <span class="votes-numbers">${a} / ${o}</span>\n      </div>\n      <div class="popularity-wrapper">\n        <span class="titles film-popularity">popularity: </span>\n        <span class="popularity-score">${r}</span>\n      </div>\n      <div class="original-film-wrapper">\n        <span class="titles original-film-titles">original title: </span>\n        <span class="original-film-name">${c}</span>\n      </div>\n      <div class="film-genre-wrapper">\n        <span class="titles film-genre">genre: </span>\n        <ul class="genre-list">${(e=>e.reduce((e,t)=>e+`<li class="genre-list--item"><span>${t.name}</span></li>\n`,""))(d)}</ul>\n      </div>\n      <h3>About</h3>\n      <p class="film-description">\n        ${l}\n      </p>\n      <div class="button-wrapper">\n        <button type="button" class="js-add-to-watched video-icon button-icon" data-id="${p}" data-action="watched-films">Add to\n          watched</button>\n        <button type="button" class="calendar-icon button-icon" data-id="${p}" data-action="queue-films">Add to\n          queue</button>\n      </div> \n    </section>\n    </div>\n    `})(),document.querySelector(".js-add-to-watched ").addEventListener("click",e=>{a||(n.push(t),localStorage.setItem("watched",JSON.stringify(n)),a=!0)})};var c=()=>{document.querySelector(".searchWebsite").style.display="block",document.querySelector(".js-main").innerHTML='\n  <div class="container">\n    <ul class="movies-list" id="movies-list"></ul>\n    <div class="pagination-box">\n      <button class="pagination-box-button prev">Prev</button>\n      <span class="pagination-box-info"></span>\n      <button class="pagination-box-button next">Next</button>\n    </div>\n    <button class="scrollTopButton"></button>\n    </div>\n    ';const e={page:1,query:""},t={moviesList:document.querySelector("#movies-list"),buttonNext:document.querySelector(".next"),buttonPrev:document.querySelector(".prev"),paginationBoxInfo:document.querySelector(".pagination-box-info"),input:document.querySelector(".js-search-input"),moviesList:document.querySelector(".movies-list")},n=(n=e.page)=>{1===n&&t.buttonPrev.classList.add("hiddenButton"),((e=1)=>{const t=`/3/discover/movie?sort_by=popularity.desc&api_key=${i}&perPage=2language=en-US&page=${e}&&include_adult=false&total_results=12&total_pages=10`;return s.a.get(t).then(e=>(e.data.results.forEach(e=>{e.backdrop_path="https://image.tmdb.org/t/p/w500"+e.backdrop_path}),console.log(e.data.results[0]),e.data.results))})(n).then(e=>{const t=e.reduce((e,t)=>{const{id:n,backdrop_path:a,title:s}=t;return e+`\n          <li data-id="${n}" class="movie">\n            <img class="poster" src="${a}" />\n            <h2 class="movie-title">${s}</h2>\n            <div class="inner"></div>\n            </li>\n          `},"");document.querySelector("#movies-list").innerHTML=t}).catch(e=>console.log(e)),t.paginationBoxInfo.textContent=n};n();t.buttonNext.addEventListener("click",()=>{e.page=e.page+1,t.buttonPrev.classList.remove("hiddenButton"),e.query?a(e.query):n(e.page)}),t.buttonPrev.addEventListener("click",()=>{e.page=e.page-1,t.buttonPrev.classList.remove("hiddenButton"),1===e.page&&t.buttonPrev.classList.add("hiddenButton"),e.query?a(e.query):n(e.page)});const a=t=>{((e,t=1)=>{const n=`/3/search/movie?api_key=${i}&language=en-US&query=${e}&page=${t}&include_adult=false`;return s.a.get(n).then(e=>(e.data.results.forEach(e=>{e.backdrop_path="https://image.tmdb.org/t/p/w500"+e.backdrop_path}),e.data.results))})(t,e.page).then(e=>{const t=e.reduce((e,t)=>{const{id:n,backdrop_path:a,title:s}=t;return e+`\n            <li data-id="${n}" class="movie">\n              <img class="poster" src="${a}" />\n              <h2 class="movie-title">${s}</h2>\n              <div class="inner"></div>\n              </li>\n            `},"");document.querySelector("#movies-list").innerHTML=t})};t.input.addEventListener("keyup",t=>{(t=>{e.query=t.target.value,e.query?a(e.query):n(1)})(t)}),t.moviesList.addEventListener("click",e=>{if(e.target.closest(".movie")){let t=e.target.closest(".movie").dataset.id;o(t).then(e=>{r(e)})}})};var l=()=>{document.querySelector(".js-main").innerHTML='\n  <div class="container">\n  <ul class="movies-list" id="movies-list"></ul>\n  <button class="scrollTopButton"></button>\n  </div>\n  ';(()=>{let e=localStorage.getItem("watched");(e=e?JSON.parse(e):[])||(localStorage.setItem("watched",[]),e=[]);const t=e.reduce((e,t)=>{const{id:n,backdrop_path:a,title:s}=t;return e+`\n          <li data-id="${n}" class="movie">\n            <img class="poster" src="${a}" />\n            <h2 class="movie-title">${s}</h2>\n            <div class="inner"></div>\n            </li>\n          `},"");document.querySelector("#movies-list").innerHTML=t,document.querySelector("#movies-list").addEventListener("click",e=>{if(e.target.closest(".movie")){let t=e.target.closest(".movie").dataset.id;o(t).then(e=>{r(e)})}})})()};(()=>{document.querySelector(".js-home").addEventListener("click",c),document.querySelector(".js-watched").addEventListener("click",l)})(),c()}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.67b702c2d83071ac62fc.js.map
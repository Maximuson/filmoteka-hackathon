(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(e,t,a){},QfWi:function(e,t,a){"use strict";a.r(t);a("L1EO");var s=a("czhI"),n=a.n(s);n.a.defaults.baseURL="https://api.themoviedb.org";const i="684a168c8e7f797395d8a1d5291bcabb",o=e=>n.a.get(`https://api.themoviedb.org/3/movie/${e}?api_key=${i}`).then(e=>(e.data.poster_path="https://image.tmdb.org/t/p/w500"+e.data.poster_path,e.data.backdrop_path="https://image.tmdb.org/t/p/w500"+e.data.backdrop_path,e.data.release_date=e.data.release_date.slice(0,4),e.data));var r=a("dIfx");a("UOjr");var c=e=>{const t=e;document.querySelector(".searchWebsite").style.display="none";let a=localStorage.getItem("watched");a=a?JSON.parse(a):[],a||(localStorage.setItem("watched",[]),a=[]);let s=a.some(e=>e.id===t.id);document.querySelector(".js-main").innerHTML=(()=>{const{poster_path:t,title:a,vote_average:s,vote_count:o,popularity:r,original_title:c,overview:l,genres:d,id:p,name:u,release_date:m}=e;return(e=>n.a.get(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=${i}`).then(e=>e.data.results[0].key))(p).then(e=>{document.querySelector(".js-main").insertAdjacentHTML("afterbegin",`\n            <iframe class="movie-trailer" src="https://www.youtube.com/embed/${e}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>\n        `)}),`\n    <div class="container">\n\n    <section class="section" data-id="{id}">\n\n      <div class="poster-wrapper">\n        <img class="film-poster" src="${t}" alt="poster image" />\n      </div>\n      <div class="description-wrapper">\n      <h2 class="film-title">${a||u}</h2>\n      <div class="release-year-wrapper">\n      <span class="release-year">year: ${m}</span>\n      </div>\n      <div class="vote-wrapper">\n        <span class="titles vote-titles">vote / votes: </span>\n        <span class="votes-numbers">${s} / ${o}</span>\n      </div>\n      <div class="popularity-wrapper">\n        <span class="titles film-popularity">popularity: </span>\n        <span class="popularity-score">${r}</span>\n      </div>\n      <div class="original-film-wrapper">\n        <span class="titles original-film-titles">original title: </span>\n        <span class="original-film-name">${c}</span>\n      </div>\n      <div class="film-genre-wrapper">\n        <span class="titles film-genre">genre: </span>\n        <ul class="genre-list">${(e=>e.reduce((e,t)=>e+`<li class="genre-list--item"><span>${t.name}</span></li>\n`,""))(d)}</ul>\n      </div>\n      <h3 class="about-movie">About</h3>\n      <p class="film-description">\n        ${l}\n      </p>\n      <div class="button-wrapper">\n        <button type="button" class="button js-add-to-watched js-film-icon video-icon button-icon" data-id="${p}" data-action="watched-films">Add to Library\n      </div>\n    </section>\n    </div>\n    `})();const o=document.querySelector(".js-film-icon");s&&(o.classList.remove("video-icon"),o.classList.add("video-icon-remove"),o.textContent="Remove from library"),document.querySelector(".js-add-to-watched ").addEventListener("click",e=>{if(s){o.classList.add("video-icon"),o.classList.remove("video-icon-remove"),o.textContent="Add to library",s=!1,r.a.success({text:"The movie has been removed from the Library",delay:500});const e=a.filter(e=>e.id!==t.id);localStorage.setItem("watched",JSON.stringify(e)),a=e}else a.push(t),localStorage.setItem("watched",JSON.stringify(a)),o.classList.remove("video-icon"),o.classList.add("video-icon-remove"),o.textContent="Remove from library",s=!0,r.a.success({text:"The movie has been added to the Library",delay:500})})};var l=()=>{document.querySelector(".searchWebsite").style.display="block",document.querySelector(".js-main").innerHTML='\n  <div class="container">\n    <h1 class="main-header">Trending now</h1>\n    <ul class="movies-list" id="movies-list"></ul>\n    <div class="pagination-box">\n      <button class="pagination-box-button prev">Prev</button>\n      <span class="pagination-box-info"></span>\n      <button class="pagination-box-button next">Next</button>\n    </div>\n    </div>\n    ';const e={page:1,query:""},t={moviesList:document.querySelector("#movies-list"),buttonNext:document.querySelector(".next"),buttonPrev:document.querySelector(".prev"),paginationBoxInfo:document.querySelector(".pagination-box-info"),input:document.querySelector(".js-search-input"),moviesList:document.querySelector(".movies-list")},a=(a=e.page)=>{1===a&&t.buttonPrev.classList.add("hiddenButton"),((e=1)=>{const t=`/3/discover/movie?sort_by=popularity.desc&api_key=${i}&perPage=2language=en-US&page=${e}&&include_adult=false&total_results=12&total_pages=10`;return n.a.get(t).then(e=>(e.data.results.forEach(e=>{e.backdrop_path="https://image.tmdb.org/t/p/w500"+e.backdrop_path}),console.log(e.data.results[0]),e.data.results))})(a).then(e=>{const t=e.reduce((e,t)=>{const{id:a,backdrop_path:s,title:n,name:i}=t;return e+`\n          <li data-id="${a}" class="movie">\n            <img class="poster" src="${s}" />\n            <h2 class="movie-title">${n||i}</h2>\n            <div class="inner"></div>\n            </li>\n          `},"");document.querySelector("#movies-list").innerHTML=t}).catch(e=>console.log(e)),t.paginationBoxInfo.textContent=a};a();t.buttonNext.addEventListener("click",()=>{e.page=e.page+1,t.buttonPrev.classList.remove("hiddenButton"),e.query?s(e.query):a(e.page)}),t.buttonPrev.addEventListener("click",()=>{e.page=e.page-1,t.buttonPrev.classList.remove("hiddenButton"),1===e.page&&t.buttonPrev.classList.add("hiddenButton"),e.query?s(e.query):a(e.page)});const s=t=>{((e,t=1)=>{const a=`/3/search/movie?api_key=${i}&language=en-US&query=${e}&page=${t}&include_adult=false`;return n.a.get(a).then(e=>(e.data.results.forEach(e=>{e.backdrop_path="https://image.tmdb.org/t/p/w500"+e.backdrop_path}),e.data.results))})(t,e.page).then(e=>{const t=e.reduce((e,t)=>{const{id:a,backdrop_path:s,title:n}=t;return e+`\n            <li data-id="${a}" class="movie">\n              <img class="poster" src="${s}" />\n              <h2 class="movie-title">${n}</h2>\n              <div class="inner"></div>\n              </li>\n            `},"");document.querySelector("#movies-list").innerHTML=t})};t.input.addEventListener("keyup",t=>{(t=>{e.query=t.target.value,e.query?s(e.query):a(1)})(t)}),t.moviesList.addEventListener("click",e=>{if(e.target.closest(".movie")){let t=e.target.closest(".movie").dataset.id;o(t).then(e=>{c(e)})}})};var d=()=>{document.querySelector(".js-main").innerHTML='\n  <div class="container">\n  <ul class="movies-list" id="movies-list"></ul>\n  </div>\n  ';(()=>{let e=localStorage.getItem("watched");e=e?JSON.parse(e):[],e||(localStorage.setItem("watched",[]),e=[]);const t=e.reduce((e,t)=>{const{id:a,backdrop_path:s,title:n}=t;return e+`\n          <li data-id="${a}" class="movie">\n            <img class="poster" src="${s}" />\n            <h2 class="movie-title">${n}</h2>\n            <div class="inner"></div>\n            </li>\n          `},"");document.querySelector(".searchWebsite").style.display="none",document.querySelector("#movies-list").style="padding-top:100px;padding-bottom:70px;",0!==e.length?document.querySelector("#movies-list").innerHTML=t:(document.querySelector(".js-main .container").innerHTML='<p class="empty">Your Library is empty</p>',document.querySelector(".js-main .container").style="display:flex;justify-content:center;align-items:center;flex: 1 1 auto;"),document.querySelector("#movies-list").addEventListener("click",e=>{if(e.target.closest(".movie")){let t=e.target.closest(".movie").dataset.id;o(t).then(e=>{c(e)})}})})()};(()=>{document.querySelector(".logo-website").addEventListener("click",l),document.querySelector(".js-home").addEventListener("click",l),document.querySelector(".js-watched").addEventListener("click",d)})(),l()}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.daf14b91c98d64c1225c.js.map
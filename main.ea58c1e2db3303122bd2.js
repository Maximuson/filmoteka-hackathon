(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(t,e,n){},QfWi:function(t,e,n){"use strict";n.r(e);n("L1EO");var a=n("czhI"),s=n.n(a);s.a.defaults.baseURL="https://api.themoviedb.org";const i="684a168c8e7f797395d8a1d5291bcabb";var o=t=>{document.querySelector(".js-main > .container").innerHTML=(()=>{const{poster_path:e,title:n,vote_average:a,vote_count:s,popularity:i,original_title:o,overview:r,id:c}=t;return`\n    <section class="section" data-id="{id}">\n      <div class="poster-wrapper">\n        <img class="film-poster" src="${e}" alt="poster image" />\n      </div>\n      <div class="description-wrapper">\n      <h2 class="film-title">${n}</h2>\n      <div class="vote-wrapper">\n        <span class="titles vote-titles">vote / votes: </span>\n        <span class="votes-numbers">${a} / ${s}</span>\n      </div>\n      <div class="popularity-wrapper">\n        <span class="titles film-popularity">popularity: </span>\n        <span class="popularity-score">${i}</span>\n      </div>\n      <div class="original-film-wrapper">\n        <span class="titles original-film-titles">original title: </span>\n        <span class="original-film-name">${o}</span>\n      </div>\n      <div class="film-genre-wrapper">\n        <span class="titles film-genre">genre: </span>\n        <span class="genre-list">genres</span>\n      </div>\n      <h3>About</h3>\n      <p class="film-description">\n        ${r}\n      </p>\n      <div class="button-wrapper">\n        <button type="button" class="video-icon button-icon" data-id="${c}" data-action="watched-films">Add to\n          watched</button>\n        <button type="button" class="calendar-icon button-icon" data-id="${c}" data-action="queue-films">Add to\n          queue</button>\n      </div> \n    </section>\n    `})()};var r=()=>{document.querySelector(".js-main > .container").innerHTML='\n    <ul class="movies-list" id="movies-list"></ul>\n    <div class="pagination-box">\n      <button class="pagination-box-button prev">Prev</button>\n      <span class="pagination-box-info"></span>\n      <button class="pagination-box-button next">Next</button>\n    </div>\n    <button class="scrollTopButton"></button>\n    ';const t={page:1,query:""},e={moviesList:document.querySelector("#movies-list"),buttonNext:document.querySelector(".next"),buttonPrev:document.querySelector(".prev"),paginationBoxInfo:document.querySelector(".pagination-box-info"),input:document.querySelector(".js-search-input"),moviesList:document.querySelector(".movies-list")},n=(n=t.page)=>{1===n&&e.buttonPrev.classList.add("hiddenButton"),((t=1)=>{const e=`/3/discover/movie?sort_by=popularity.desc&api_key=${i}&perPage=2language=en-US&page=${t}&&include_adult=false&total_results=12&total_pages=10`;return s.a.get(e).then(t=>(t.data.results.forEach(t=>{t.backdrop_path="https://image.tmdb.org/t/p/w500"+t.backdrop_path}),console.log(t.data.results[0]),t.data.results))})(n).then(t=>{const e=t.reduce((t,e)=>{const{id:n,backdrop_path:a,title:s}=e;return t+`\n          <li data-id="${n}" class="movie">\n            <img class="poster" src="${a}" />\n            <h2 class="movie-title">${s}</h2>\n            <div class="inner"></div>\n            </li>\n          `},"");document.querySelector("#movies-list").innerHTML=e}).catch(t=>console.log(t)),e.paginationBoxInfo.textContent=n};n();e.buttonNext.addEventListener("click",()=>{t.page=t.page+1,e.buttonPrev.classList.remove("hiddenButton"),t.query?a(t.query):n(t.page)}),e.buttonPrev.addEventListener("click",()=>{t.page=t.page-1,e.buttonPrev.classList.remove("hiddenButton"),1===t.page&&e.buttonPrev.classList.add("hiddenButton"),t.query?a(t.query):n(t.page)});const a=e=>{((t,e=1)=>{const n=`/3/search/movie?api_key=${i}&language=en-US&query=${t}&page=${e}&include_adult=false`;return s.a.get(n).then(t=>(t.data.results.forEach(t=>{t.backdrop_path="https://image.tmdb.org/t/p/w500"+t.backdrop_path}),t.data.results))})(e,t.page).then(t=>{const e=t.reduce((t,e)=>{const{id:n,backdrop_path:a,title:s}=e;return t+`\n            <li data-id="${n}" class="movie">\n              <img class="poster" src="${a}" />\n              <h2 class="movie-title">${s}</h2>\n              <div class="inner"></div>\n              </li>\n            `},"");document.querySelector("#movies-list").innerHTML=e})};e.input.addEventListener("keyup",e=>{(e=>{t.query=e.target.value,t.query?a(t.query):n(1)})(e)}),e.moviesList.addEventListener("click",t=>{if(t.target.closest(".movie")){(t=>s.a.get(`https://api.themoviedb.org/3/movie/${t}?api_key=${i}`).then(t=>(t.data.poster_path="https://image.tmdb.org/t/p/w500"+t.data.poster_path,t.data)))(t.target.closest(".movie").dataset.id).then(t=>{o(t)})}})};(()=>{document.querySelector(".js-home").addEventListener("click",r)})(),r()}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.ea58c1e2db3303122bd2.js.map